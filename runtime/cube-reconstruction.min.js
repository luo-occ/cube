/*!
  * Cube v5.0.0-beta.5
  */
  (function(){function a(a,b,c){if(c||2===arguments.length)for(var d,e=0,f=b.length;e<f;e++)(d||!(e in b))&&(d||(d=Array.prototype.slice.call(b,0,e)),d[e]=b[e]);return a.concat(d||Array.prototype.slice.call(b))}function b(){}function c(a){return a}function d(a){return'Cube.cStart();'+a+';Cube.cStop();'}function e(a,b){return fetch(a,{headers:{"Content-Type":'text/plain'}}).then(function(a){return a.text()}).then(function(a){return new Function((b||c)(a))()})}function f(a){var b=document.createElement('script');b.type='text/javascript',b.async=!0,b.onerror=function(){console.error('load module failed.')},b.src=a,n.appendChild(b)}function g(a,b){for(var c,d=a.length,e=0;e<d;e++)c=a[e],-1===c.indexOf(b)&&(0===c.indexOf('./')?a[e]=c.substr(1):'/'!==c[0]&&(a[e]='/'+c));return a}function h(a,b,c){var d=a;b&&(d=a.replace(o,function(a,c,d){var e=c.split(',').map(function(a){return b+' '+a.trim()});return e.join(',')+d}));var e=document.createElement('style');return e.setAttribute('type','text/css'),c&&e.setAttribute('mod',c),b&&e.setAttribute('ns',b),n.appendChild(e),e.innerHTML=d,d}function i(a){var b=a.split('&'),c={};return b.forEach(function(a){var b=a.split('=');c[b[0]]=b[1]}),c}function j(a,b){var c=b.base,d=b.remoteSeparator,e=b.remoteBase,f=c+a,g=a.indexOf?a.indexOf(d):0;if(0>=g)return f;var h=a.substr(0,g);return e[h]?e[h]+a.substr(g+1):f}function k(){function a(a,b){if(1===arguments.length)return l(a);var c=l(a);return n.css(c,b,a),a}function c(a){return function(b,c,d){2===arguments.length&&'function'===typeof c?(d=c,c=null,n.use(b,a,d)):n.use(b,a,function(a){a=n.css(a,c,b),d&&d(a)})}}function d(){if(J.length)return!1;for(var a in H)if(H.hasOwnProperty(a))return!1;z&&console.timeEnd('cube load'),m()}function e(a,b){return'string'===typeof a&&(a=[a]),I?void(a.forEach(function(a){if(!(G[a]||k(a))){const[g,h]=(a+'').split('?');var c=j(g,{base:u,remoteSeparator:w,remoteBase:v}),d=c||u+g,e=[];if(p&&e.push(p),z&&(e.push('m'),e.push('ref='+b)),h){const a=i(h);Array.prototype.push.apply(e,Object.keys(a).map((b)=>`${b}=${a[b]}`))}e.length&&(d=d+'?'+e.join('&')),f(d),G[a]={exports:{},loaded:!1,fired:!1},E[g]=a,H[a]=!0}}),d()):void J.push([a,b])}function k(a){for(const b of F)if(a&&b.match.test(a))return b.module;return!1}function l(b){var d=G[b]||k(b);if(!d){const a=new Error('Cube Error: Cannot find module \''+b+'\'');if(y)throw a;else return t.error(a),{}}if(!d.fired)if(d.fired=!0,y)d.exports=d.fn.apply(q,[d,d.exports,a,c(b),A,B]);else try{d.exports=d.fn.apply(q,[d,d.exports,a,c(b),A,B])}catch(a){t.error(a),d.exports={}}return o(d.exports)?d.exports.default:d.exports}function m(){for(let[a,b]of D)a.length&&a.forEach(function(c){if(H[c])return;var d=0;const e=l(c);b.length&&b.forEach(function(a){var b=a(e);b&&d++}),b.length===d&&D.delete(a)});z&&console.timeEnd('cube exec')}function n(a,b,c){const d=a+'';a=E[a]||a;var f=G[a];f||(f=G[a]={exports:{},fired:!1}),f.loaded=!0,f.fn=c,E[d]&&delete E[d],H[a]?(delete H[a],e(b,a)):b.length&&e(b,a)}function o(a){return C&&a&&'object'===typeof a&&a.__esModule}var p,q=window,r=window,s=document,t=console,u='',v={},w=':',x='utf-8',y=!0,z=!0,A={env:{NODE_ENV:'production'}},B=void 0,C=!1,D=new Map,E={},F=[],G={},H={},I=!1,J=[];n.setRemoteBase=function(a){Object.assign(v,a)},n.toString=function(){return'Cube:v5.0.0-beta.5'},n.init=function(a){if(a.base&&'/'!==a.base&&(u=a.base.replace(/\/$/,'')),a.remoteBase)for(var b in a.remoteBase)a.remoteBase.hasOwnProperty(b)&&(v[b]=a.remoteBase[b].replace(/\/$/,''));for(a.charset&&(x=a.charset),a.version&&(p=a.version),void 0!==a.debug&&(z=a.debug),void 0!==a.strict&&(y=a.strict),a.env&&(A.env.NODE_ENV=a.env),a.global&&(B=a.global),a.combine&&a.combine,void 0!==a.esModule&&(C=a.esModule),I=!0;J.length;){var c=J.shift();e(c[0],c[1])}return this},n.use=function(a,c,d,f){if(!a)throw new Error('Cube.use(moduleName) moduleName is undefined!');return'function'===typeof c&&(f=d,d=c,c=void 0),c||(c='Cube.use'),d=d||b,'string'===typeof a&&(a=[a]),f||(a=g(a,w)),D.has(a)||D.set(a,[]),D.get(a).push(function(){var b=[],c=a.length,e=!1;return function(a){if(!e)return(b.push(a),b.length===c)?(e=!0,d.apply(q,b),!0):void 0}}()),e(a,c),this},n.register=function(a,c,{matchType:d='version'}={}){return G[a]?t.warn('Cube Warning: Module \''+a+'\' already registered'):(G[a]={exports:c,fn:b,loaded:!0,fired:!0},'module'===d&&F.push({require:a,matchType:d,match:new RegExp(`^datav:\/npm\/${a}\/([^\/]+)?$`),module:G[a]}),this)};var K={};n.css=function(a,b,c){if(a){var d=c+'@'+b;if(!K[d])return K[d]=!0,h(a,b,c)}},n.debug=function(){t.error('Cube Error: Cube.debug nolonger supported')},n.cache=function(){var a,b,c={},d={};for(a in G)G.hasOwnProperty(a)&&(b=G[a],b.loaded||(c[a]=b),b.fired||(d[a]=b));t.info('modules:',G),t.info('unloaded:',c),t.info('unfired:',d)},r.localStorage&&'debug'===localStorage.cube&&(z=!0,r.addEventListener('load',n.cache)),q.Cube?t.error('Cube Error: window.Cube already in using, replace the last "null" param in cube.js'):q.Cube=n;var L=s.currentScript;if(L){var M=L.dataset;M.base&&(n.init(M),n.use(M.main||'index.js',function(a){a.run&&a.run()}))}Object.defineProperty(n,'config',{get(){return{base:u,remoteBase:v,remoteSeparator:w,version:p,strict:y,debug:z,esModule:C,mockedGlobal:B,mockedProcess:A,charset:x}}})}function l(){return new Proxy({},{get:function(a,b){var c='number'===typeof b?b.toString():b;return Reflect.get(a,c)},set:function(a,b,c,d){var e='number'===typeof b?b.toString():b;return Reflect.set(a,e,c,d)}})}var m=function(){return m=Object.assign||function(a){for(var b,c=1,d=arguments.length;c<d;c++)for(var e in b=arguments[c],b)Object.prototype.hasOwnProperty.call(b,e)&&(a[e]=b[e]);return a},m.apply(this,arguments)},n=document.querySelector('head'),o=/([^};]+)(\{[^}]+\})/g,p={base:'',remoteBase:{},remoteSeparator:':',mockedProcess:{env:{NODE_ENV:'production'}},mockedGlobal:void 0,charset:'utf-8',strict:!0,esModule:!1,version:void 0,debug:!0,combine:!1,requestMethod:'fetch',fetchUndeclaredModule:!1,aggregateFetch:!0},q=function(){function c(){var c=this;this.config=m({},p),this.state={inited:!1,isIntercepted:!1,pendingQueue:[],lostDepModule:{},entrances:new Map,cssModule:{},installedModules:l(),registerModules:[],requireMap:{},fileExecuting:!1,aggregateLoading:{},delayTrigger:void 0},this.register=function(a,d,e){var f;void 0===e&&(e={matchType:'version'});var g=e.matchType;return(null===(f=c._getModule(a))||void 0===f?void 0:f.fired)?console.warn('Cube Warning: Module \''+a+'\' already registered'):void(c.state.installedModules[a]={exports:d,sourceCode:b,dep:[],refer:{entryDep:[]},loaded:!0,firing:!1,fired:!0},'module'===g&&c.state.registerModules.push({moduleName:a,matchType:g,match:new RegExp('^datav:/npm/'.concat(a,'/([^/]+)?$')),module:c.state.installedModules[a]}))},this.init=function(a){var b,d,e,f,g,h,j;if(c.state.inited&&console.warn('Cube \u91CD\u590D\u521D\u59CB\u5316\uFF0C\u53EF\u80FD\u4EA7\u751F\u8D44\u6E90\u8BF7\u6C42\u9519\u8BEF'),a.base&&'/'!==a.base&&(c.config.base=a.base.replace(/\/$/,'')),a.remoteBase)for(var k in a.remoteBase)a.remoteBase.hasOwnProperty(k)&&(c.config.remoteBase[k]=a.remoteBase[k].replace(/\/$/,''));c.config.version=null!==(b=a.version)&&void 0!==b?b:c.config.version,c.config.esModule=null!==(d=a.esModule)&&void 0!==d?d:c.config.esModule,c.config.debug=null!==(e=a.debug)&&void 0!==e?e:c.config.debug,c.config.combine=null!==(f=a.combine)&&void 0!==f?f:c.config.combine,c.config.requestMethod=null!==(g=a.requestMethod)&&void 0!==g?g:c.config.requestMethod,c.config.fetchUndeclaredModule=null!==(h=a.fetchUndeclaredModule)&&void 0!==h?h:c.config.fetchUndeclaredModule,c.config.aggregateFetch=null!==(j=a.aggregateFetch)&&void 0!==j?j:c.config.aggregateFetch,c.state.inited=!0;for(var l,m=0;m<c.state.pendingQueue.length;m++)l=c.state.pendingQueue[m],c._load(l[0],l[1]);c.state.pendingQueue=[]},this.use=function(d,e,f,h){if(!d)throw new Error('Cube.use(moduleName) moduleName is undefined!');var i,j='string'===typeof d?[d]:'number'===typeof d?[d.toString()]:a([],d,!0),k=h;'string'===typeof e?i=f:(i=e,k=f),i=i||b,j=k?j:g(j,c.config.remoteSeparator);var l={callback:i,loadSource:{},targets:a([],j,!0)};if(c.config.aggregateFetch);else j.forEach(function(a){l.loadSource[a]=!1});c.state.entrances.set(j,l),j.forEach(function(a){return c._load(a,j)})},this.execute=function(a,b,d){var e;'number'===typeof a&&(a=a.toString());var f=c._calibrateName(a);(null===(e=c.state.installedModules[f])||void 0===e?void 0:e.loaded)||(c._store(f,b,d),c._initiate(f))},this.css=function(a,b,d){if(a){var e=d+'@'+b;if(!c.state.cssModule[e])return c.state.cssModule[e]=!0,h(a,b,d)}},this._store=function(a,b,d){var e,f=c.state.installedModules[a];f?((e=f.dep).push.apply(e,b),f.sourceCode=d,f.loaded=!0):c.state.installedModules[a]={exports:{},sourceCode:d,dep:b,refer:{entryDep:[]},loaded:!0,firing:!1,fired:!1}},this._load=function(a,b){if('number'===typeof a&&(a=a.toString()),!c.config.aggregateFetch){var g=c.state.entrances.get(b);g&&!g.loadSource.hasOwnProperty(a)&&(g.loadSource[a]=!1)}if(!c.state.inited||c.state.fileExecuting)return void c.state.pendingQueue.push([a,b]);var h=c._getModule(a);if(h)return c._addReferToDependency(a,h,b),void(h.loaded&&c._triggerCallback(a,h));var i=a.split('?')[0];c.state.requireMap[i]=a,c.state.installedModules[a]={exports:{},sourceCode:void 0,dep:[],refer:{entryDep:[]},loaded:!1,firing:!1,fired:!1},c._addReferToDependency(a,c.state.installedModules[a],b);var j=c._generatePath(a);'fetch'===c.config.requestMethod?e(j,d):f(j)},this._initiate=function(a){var b=c.state.installedModules[a];c._triggerCallback(a,b)},this._triggerCallback=function(a,b){if(b.loaded){if(c.config.aggregateFetch)return b.dep.forEach(function(a){var b;(null===(b=c._getModule(a))||void 0===b?void 0:b.loaded)||c._load(a,[])}),void(c.state.aggregateLoading[a]&&(delete c.state.aggregateLoading[a],c._triggerAllCallback()));var d=b.refer,e=[];d.entryDep.forEach(function(d){var f=c.state.entrances.get(d);if(f){f.loadSource[a]=!0;var g=!0;b.fired||b.dep.forEach(function(a){if(!f.loadSource[a]){var b=c._getModule(a);(null===b||void 0===b?void 0:b.fired)||(g=!1,c._load(a,d))}}),g&&Object.values(f.loadSource).every(function(a){return a})&&c._triggerEntryCallback(d,f)}else e.push(d)}),e.length&&(b.refer.entryDep=d.entryDep.filter(function(a){return!e.includes(a)}))}},this._triggerEntryCallback=function(a,b){var d=!0;b.targets.forEach(function(a){var b=c._getModule(a);if(!b.fired){if(b.firing)return void(d=!1);c._fireModule(a),b.fired||(d=!1)}}),d&&(b.callback.apply(b,b.targets.map(function(a){return c.state.installedModules[a].exports})),c.state.entrances.delete(a))},this._triggerAllCallback=function(){c.state.delayTrigger||c.state.pendingQueue.length||Object.keys(c.state.aggregateLoading).length||c.state.entrances.forEach(function(a,b){c._triggerEntryCallback(b,a)})},this._fireModule=function(a){var b=c.state.installedModules[a];if(!b||!b.loaded)return!1;if(b.fired)return!0;if(b.firing)return!0;var d=!0;try{b.firing=!0;var e=b.sourceCode.apply(window,[b,b.exports,c._cubeRequire(a),c._cubeLoad(a),c.config.mockedProcess,c.config.mockedGlobal]);b.exports=c._isEsModule(e)?e.default:e,b.error=!1}catch(f){c.config.fetchUndeclaredModule&&'Cube inner denpendency lost; refetch inited'===f.message?(console.warn('Cube \u68C0\u6D4B\u5230\u6587\u4EF6\u4F9D\u8D56\u7F3A\u5931'),d=!1):(console.error('Cube \u751F\u6210\u5B9E\u4F8B\u5931\u8D25',f),console.error(a,b),b.error=!0)}finally{b.firing=!1,c.config.fetchUndeclaredModule?c.state.lostDepModule[a]&&(c.state.lostDepModule[a].forEach(function(d){b.dep.includes(d)||(b.dep.push(d),b.refer.entryDep.forEach(function(a){c._load(d,a)}),console.warn('Cube module '.concat(a,' \u7F3A\u5931\u58F0\u660E\u4F9D\u8D56 ').concat(d)))}),Reflect.deleteProperty(c.state.lostDepModule,a),d=!1):b.fired=!0}return d},this._cubeRequire=function(a){return function(b,d){if(void 0===d){var e=c._getModule(b);if(null===e||void 0===e?void 0:e.fired)return e.exports;var f=c._fireModule(b);if(e&&f)return e.exports;if(c.config.fetchUndeclaredModule)throw c.state.lostDepModule[a]?c.state.lostDepModule[a].push(b):c.state.lostDepModule[a]=[b],new Error('Cube inner denpendency lost; refetch inited');else throw new Error('Cube \u83B7\u53D6\u672A\u58F0\u660E\u8D44\u6E90 '.concat(b,' \u5931\u8D25'))}else{var g=void 0,e=c._getModule(b);if(!e||!e.loaded)return;e.fired&&(g=e.exports);var h=c._fireModule(b);return h&&(g=e.exports),c.css(g,d,b)}}},this._cubeLoad=function(a){return function(b,d,e){e===void 0&&'function'===typeof d?(e=d,d='',c.use(b,a,e)):c.use(b,a,function(a){a=c.css(a,d,b),e&&e(a)})}},this._generatePath=function(a){var b=a.split('?'),d=b[0],e=b[1],f=j(d,c.config),g=[];if(c.config.version&&g.push(c.config.version),c.config.combine&&g.push('combine=true'),e){var h=i(e);g.push(Object.keys(h).map(function(a){return''.concat(a,'=').concat(h[a])}))}return g.includes('m=1')||g.push('m=1'),g.length&&(f=f+'?'+g.join('&')),f},this._addReferToDependency=function(a,b,d){if(c.config.aggregateFetch)return void(b.loaded||(c.state.aggregateLoading[a]=!0));var e=b.refer;d&&(e.entryDep.includes(d)||e.entryDep.push(d))},this._calibrateName=function(a){var b=c.state.requireMap[a]||a;return c.state.requireMap[a]&&Reflect.deleteProperty(c.state.requireMap,a),b},this._getGlobalRegister=function(a){for(var b,d=0,e=c.state.registerModules;d<e.length;d++)if(b=e[d],a&&b.match.test(a))return b.module},this._getModule=function(a){var b=c.state.installedModules[a];return b?b:c._getGlobalRegister(a)},this._isEsModule=function(a){return c.config.esModule&&a&&'object'===typeof a&&a.__esModule},this.cStart=function(){c.state.fileExecuting=!0},this.cStop=function(){c.state.fileExecuting=!1;for(var a,b=0;b<c.state.pendingQueue.length;b++)a=c.state.pendingQueue[b],c._load(a[0],a[1]);c.state.pendingQueue=[]},this.cache=function(){console.info('modules:',Object.fromEntries(Object.entries(c.state.installedModules))),console.info('unloaded:',Object.fromEntries(Object.entries(c.state.installedModules).filter(function(a){return!a[1].loaded}))),console.info('unfired:',Object.fromEntries(Object.entries(c.state.installedModules).filter(function(a){return!a[1].fired})))},this.debug=function(){console.error('debug \u65B9\u6CD5\u4E0D\u518D\u652F\u6301')},this.setRemoteBase=function(){console.error('\u4E0D\u652F\u6301\u52A8\u6001\u4FEE\u6539 remoteBase')}}return c}();(function(a){console.log('setGlobalCube');var b='Cube',c=window;if(c[b])return console.error('Cube Error: window.'+b+' already in using'),c[b];if(a)k();else{var d=new q,e=function(a,b,c){return d.execute(a,b,c)},f=new Proxy(e,{get:function(a,b){return Reflect.ownKeys(d).includes(b)?d[b]:Reflect.get(a,b)}});c[b]=f}return c[b]})(!0)})();